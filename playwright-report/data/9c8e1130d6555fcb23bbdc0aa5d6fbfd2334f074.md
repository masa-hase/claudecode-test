# Test info

- Name: MySQL Analyzer >> should show analyze button disabled when input is empty
- Location: /workspaces/claudecode-test/app/e2e/mysql-analyzer.spec.ts:12:7

# Error details

```
Error: browserType.launch: 
╔══════════════════════════════════════════════════════╗
║ Host system is missing dependencies to run browsers. ║
║ Please install them with the following command:      ║
║                                                      ║
║     sudo npx playwright install-deps                 ║
║                                                      ║
║ Alternatively, use apt:                              ║
║     sudo apt-get install libglib2.0-0\               ║
║         libnss3\                                     ║
║         libnspr4\                                    ║
║         libdbus-1-3\                                 ║
║         libatk1.0-0\                                 ║
║         libatspi2.0-0\                               ║
║         libx11-6\                                    ║
║         libxcomposite1\                              ║
║         libxdamage1\                                 ║
║         libxext6\                                    ║
║         libxfixes3\                                  ║
║         libxrandr2\                                  ║
║         libgbm1\                                     ║
║         libxcb1\                                     ║
║         libxkbcommon0\                               ║
║         libasound2                                   ║
║                                                      ║
║ <3 Playwright Team                                   ║
╚══════════════════════════════════════════════════════╝
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 |
   3 | test.describe('MySQL Analyzer', () => {
   4 |   test.beforeEach(async ({ page }) => {
   5 |     await page.goto('/mysql-analyzer');
   6 |   });
   7 |
   8 |   test('should display the page title', async ({ page }) => {
   9 |     await expect(page.locator('h1')).toContainText('MySQL EXPLAIN分析ツール');
   10 |   });
   11 |
>  12 |   test('should show analyze button disabled when input is empty', async ({ page }) => {
      |       ^ Error: browserType.launch: 
   13 |     const analyzeButton = page.getByRole('button', { name: '分析する' });
   14 |     await expect(analyzeButton).toBeDisabled();
   15 |   });
   16 |
   17 |   test('should enable analyze button when input has content', async ({ page }) => {
   18 |     const textarea = page.getByPlaceholder(/MySQLのEXPLAIN結果を/);
   19 |     await textarea.fill('test input');
   20 |     
   21 |     const analyzeButton = page.getByRole('button', { name: '分析する' });
   22 |     await expect(analyzeButton).toBeEnabled();
   23 |   });
   24 |
   25 |   test('should analyze valid EXPLAIN result', async ({ page }) => {
   26 |     const validExplain = `+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+
   27 | | id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra |
   28 | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+
   29 | |  1 | SIMPLE      | users | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 1000 |   100.00 | NULL  |
   30 | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+`;
   31 |
   32 |     const textarea = page.getByPlaceholder(/MySQLのEXPLAIN結果を/);
   33 |     await textarea.fill(validExplain);
   34 |     
   35 |     const analyzeButton = page.getByRole('button', { name: '分析する' });
   36 |     await analyzeButton.click();
   37 |
   38 |     // Wait for results to appear
   39 |     await expect(page.getByText('解析結果')).toBeVisible();
   40 |     await expect(page.getByText('users')).toBeVisible();
   41 |     await expect(page.getByText('SIMPLE')).toBeVisible();
   42 |     await expect(page.getByText('1000')).toBeVisible();
   43 |   });
   44 |
   45 |   test('should show error for invalid EXPLAIN result', async ({ page }) => {
   46 |     const textarea = page.getByPlaceholder(/MySQLのEXPLAIN結果を/);
   47 |     await textarea.fill('Invalid EXPLAIN result');
   48 |     
   49 |     const analyzeButton = page.getByRole('button', { name: '分析する' });
   50 |     await analyzeButton.click();
   51 |
   52 |     // Wait for error message
   53 |     await expect(page.getByText('Invalid EXPLAIN format')).toBeVisible();
   54 |   });
   55 |
   56 |   test('should display tuning suggestions for problematic queries', async ({ page }) => {
   57 |     const problematicExplain = `+----+-------------+-------+------------+------+---------------+------+---------+------+-------+----------+-----------------------------+
   58 | | id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows  | filtered | Extra                       |
   59 | +----+-------------+-------+------------+------+---------------+------+---------+------+-------+----------+-----------------------------+
   60 | |  1 | SIMPLE      | users | NULL       | ALL  | idx_email     | NULL | NULL    | NULL | 10000 |   100.00 | Using where; Using filesort |
   61 | +----+-------------+-------+------------+------+---------------+------+---------+------+-------+----------+-----------------------------+`;
   62 |
   63 |     const textarea = page.getByPlaceholder(/MySQLのEXPLAIN結果を/);
   64 |     await textarea.fill(problematicExplain);
   65 |     
   66 |     const analyzeButton = page.getByRole('button', { name: '分析する' });
   67 |     await analyzeButton.click();
   68 |
   69 |     // Wait for suggestions to appear
   70 |     await expect(page.getByText('チューニング提案')).toBeVisible();
   71 |     await expect(page.getByText('フルテーブルスキャン')).toBeVisible();
   72 |     await expect(page.getByText('重要')).toBeVisible();
   73 |   });
   74 |
   75 |   test('should show optimal message for well-optimized queries', async ({ page }) => {
   76 |     const optimalExplain = `+----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+
   77 | | id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref   | rows | filtered | Extra |
   78 | +----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+
   79 | |  1 | SIMPLE      | users | NULL       | const | PRIMARY       | PRIMARY | 4       | const |    1 |   100.00 | NULL  |
   80 | +----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+`;
   81 |
   82 |     const textarea = page.getByPlaceholder(/MySQLのEXPLAIN結果を/);
   83 |     await textarea.fill(optimalExplain);
   84 |     
   85 |     const analyzeButton = page.getByRole('button', { name: '分析する' });
   86 |     await analyzeButton.click();
   87 |
   88 |     // Wait for optimal message
   89 |     await expect(page.getByText('現在のクエリは最適化されています。')).toBeVisible();
   90 |   });
   91 |
   92 |   test('should handle vertical format EXPLAIN results', async ({ page }) => {
   93 |     const verticalExplain = `*************************** 1. row ***************************
   94 |            id: 1
   95 |   select_type: SIMPLE
   96 |         table: users
   97 |    partitions: NULL
   98 |          type: range
   99 | possible_keys: idx_age
  100 |           key: idx_age
  101 |       key_len: 5
  102 |           ref: NULL
  103 |          rows: 500
  104 |      filtered: 50.00
  105 |         Extra: Using where`;
  106 |
  107 |     const textarea = page.getByPlaceholder(/MySQLのEXPLAIN結果を/);
  108 |     await textarea.fill(verticalExplain);
  109 |     
  110 |     const analyzeButton = page.getByRole('button', { name: '分析する' });
  111 |     await analyzeButton.click();
  112 |
```